<%- include('partials/header', {
  title: 'Register - Supermarket App',
  user: null,
  navLinks: [
    { href: '/register', label: 'Register' },
    { href: '/login', label: 'Login' }
  ]
}) %>

<style>
  .page-shell { max-width: 520px; margin: 48px auto 64px; padding: 0 16px; }
  .panel { background: #ffffff; border: 1px solid #e5e7eb; border-radius: 16px; box-shadow: 0 12px 32px rgba(16,24,40,0.08); padding: 28px; }
  .helper-text { color: #6b7280; }
</style>

<div class="page-shell">
  <div class="panel">
    <h1 class="mb-2">Create Account</h1>
    <p class="helper-text mb-3">Register to start shopping and track your orders.</p>
    <% if (errors && errors.length > 0) { %>
      <div class="alert alert-danger">
        <% errors.forEach(function(message) { %>
          <div><%= message %></div>
        <% }); %>
      </div>
    <% } %>
    <% if (messages && messages.length > 0) { %>
      <div class="alert alert-success">
        <% messages.forEach(function(message) { %>
          <div><%= message %></div>
        <% }); %>
      </div>
    <% } %>
    <form action="/register" method="POST" class="mt-3">
      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input type="text" id="username" name="username" class="form-control" required 
          <% if (formData && formData.username) { %> value="<%= formData.username %>" <% } else { %> value="" <% } %>>
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" id="email" name="email" class="form-control" required
          <% if (formData && formData.email) { %> value="<%= formData.email %>" <% } else { %> value="" <% } %>>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input type="password" id="password" name="password" class="form-control" required>
        <div class="form-text">At least 6 characters.</div>
      </div>
      <div class="mb-3">
        <label for="address" class="form-label">Address</label>
        <input type="text" id="address" name="address" class="form-control" required 
          <% if (formData && formData.address) { %> value="<%= formData.address %>" <% } else { %> value="" <% } %>>
      </div>
      <div class="mb-3">
        <label for="contact" class="form-label">Contact Number</label>
        <input type="text" id="contact" name="contact" class="form-control" required 
          <% if (formData && formData.contact) { %> value="<%= formData.contact %>" <% } else { %> value="" <% } %>>
      </div>
      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" value="on" id="joinMembership" name="joinMembership">
        <label class="form-check-label" for="joinMembership">
          Join membership to earn points
        </label>
      </div>
      <div class="d-grid gap-2">
        <button type="submit" class="btn btn-primary">Register</button>
        <a class="btn btn-outline-secondary" href="/login">Back to login</a>
      </div>
    </form>
  </div>
</div>

<%- include('partials/footer') %>
